---
layout: post
title: 楔入式侧链技术（pegged sidechain）
date: 2018-04-20
author: lyton
tags: 区块链，sidechain
---
> 侧链技术，它将实现比特币和其它数字资产在多个区块链间的转移，这就意味着用户在使用已有资产的情况下，随意访问新的加密系统，目前，该技术主要由blockstrean公司负责开发。侧链作为独立系统，即使加密被破解，那么损害只限于侧链本身。

### 楔入式侧链的属性
* 在侧链间移动的资产应当能够被当前持有者移回，但除此之外的任何人则不行（包括前持有者）
* 资产的移动应当无交易对手风险，就是说，不诚实的一方无法阻止转移的发生
* 资产转移应当是元操作（原子操作），即，要么完全完成，要么根本不发生。不应存在会导致资产损失或允许欺诈产生的失败模式。
* 侧链应当设有防火墙：一个会使某条链发生资产铸造（或偷窃）的bug，不应存在会导致资产损失或允许欺诈产生的失败模式。
* 区块链重组时应处理干净，即使资产转移的期间也要如此；任何破坏应当只发生在它所处的侧链上。总的来说，理想情况下，侧链应当完全独立，自其他链上的全部所需数据由用户提供来。侧链的验证者应当只有在侧链本身的显示共识规则有要求时，才需要跟踪其它链
* 不应要求用户去跟踪他们未主动使用的侧链

### 解决方案
早期“转移”钱币的解决方案是用一个可公开识别的方式来销毁比特币，让新区块链能检测到，以允许铸造新币。可以满足单向转移。

此方案是由资产转移的交易本身提供所有者证明来转移资产，避免让节点有跟踪发送方链的需求。从上层实现角度，当资产从一个区块链向另一个链移动时，我们在第一个区块链上创建交易锁定资产，然后在第二个区块链上创建一笔交易，该交易的输入中包含一个锁定已正确完成的密码学证明。这些输入用某种资产类型来标记，比如创生出资产的区块链的创世哈希。

第一个区块链我们称为父链，第二个则简单称为侧链。从概念上，我们打算将资产从（初始）父链转移到一条侧链，可能会再转移到别的侧链，最终还能转回至父链，并且保全初始资产。一般情况下将父链看作一个比特币系统，侧链是其他区块链中的某一个。当然，侧链币（coin）也可以在侧链间传递，并且只能与比特币系统进行往来。不过，由于任何一个最初从比特币系统进行往来；不过，由于任何一个最初从比特币系统移动的币都可以移回去，所以不管什么样子，一直是比特币。

此外，由于侧链是从父链中转移现有资产而不是另铸新资产，侧链不会引起未经授权的铸币，维护资产的安全和稀缺性依靠父链来实现。其次，参与者无需担心所持有物会被一个实验性竞争链锁住，因为侧链币能够用等额的父链币赎回，提供一个退出机制，减少因软件无人维护造成的损失。最后，由于侧链是一个独立于比特币系统的区块链，它们可以自由尝试新的交易设计，信任模型，经济模型，资产发行语义，或加密特性。

### 设计原理
“无需信任”指的不依赖外部的可信方也可以完成正确的操作的特性，一般是能够让所有参与方自己验证信息是否正确。例如，密码学签名系统中，“无需信任”是一个隐式的必要条件。

“楔入式侧链”的一个主要目标是在比特币系统模型之上最小化附加的信任。难点是币在侧链间的安全转移：接收链必须能得知发送链的币已被正确锁定。侧链的技术基础是称作双向楔入。

##### 定义
* 币（coin），或资产，是一种可以用密码学方法辨识控制者的数字资产。
* 区块是一个描述资产控制发生变化的交易的集合
* 区块链是一个有序次的区块的集合，所有用户必须对集合达成共识。这确定了资产控制的历史，提供了一个计算上无法伪造的交易时许。
* 重组或称为reorg，发生在客户端本地，当先前已接受的链被一个有更多工作量证明的竞争链取代时，分叉上失败一方的区块要从共识历史中移除。
* 侧链是验证来自其他区块数据的区块链
* 双向楔入指的是让币以一个固定或确定性的汇率在侧链间转出和转入的机制。
* 楔入式侧链是一条资产可以从其他链导入并返还的侧链，即一条支持双向楔入资产的侧链
* 简单支付验证证明（或称spv证明），是一种动态成员多方签名（DMMS），发生于一条类似比特币系统工作量证明（proof－of－work）区块链上。
